<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Djangopypi2 : Simple PyPI server written in django." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Djangopypi2</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/popen2/djangopypi2">View on GitHub</a>

          <h1 id="project_title">Djangopypi2</h1>
          <h2 id="project_tagline">Simple PyPI server written in django.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/popen2/djangopypi2/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/popen2/djangopypi2/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>DjangoPyPI 2</h1>

<p>DjangoPyPI is a Django application that provides a re-implementation of the 
<code>Python Package Index &lt;http://pypi.python.org&gt;</code>_.
Using Twitter Bootstrap for UI, forked from the original DjangoPyPi project,
DjangoPyPi2 provides an easy to use and manage interface.</p>

<h2>Installation</h2>

<p>DjangoPyPi2 is a self-contained Django project along with its apps. If you want
fine-grained control, you can looks at the sources of the apps found in the
<code>djangopypi2.apps</code> package.</p>

<p>The most simple way to install <code>djangopypi2</code> is by:</p>

<pre><code># Make sure we run with Bash, create a virtualenv and install packages
$ bash
$ virtualenv pypi-site
$ source pypi-site/bin/activate
$ pip install django gunicorn djangopypi2

# Configure our installation (all data is kept in ~/.djangopypi2)
$ manage-pypi-site syncdb
$ manage-pypi-site collectstatic
$ manage-pypi-site loaddata initial
</code></pre>

<p>That's it, we're now ready to run our server.</p>

<h2>Running</h2>

<p>It's easiest to see our server running by executing</p>

<pre><code>$ gunicorn_django djangopypi2.website.settings
</code></pre>

<p>Then surfing to http://localhost:8000/ .</p>

<p>For a permanent setup, simply create a <code>supervisor &lt;http://supervisord.org/&gt;</code>
configuration:</p>

<pre><code>[program:djangopypi2]
user = www-data
directory = /path/to/virtualenv
command = /path/to/virtualenv/bin/gunicorn_django djangopypi2.website.settings
</code></pre>

<p>Package upload directory
++++++++++++++++++++++++</p>

<p>Packages are uploaded to <code>~/.djangopypi2/media/dists/</code> by default.</p>

<p>You can change this setting by setting up a Django project with more specific
settings, or have a look at the admin interface's <code>Global Configuration</code>
section to see if you configure your desired behavior in there.</p>

<h2>Uploading to your PyPI</h2>

<p>Assuming you are running your Django site locally for now, add the following to 
your <code>~/.pypirc</code> file::</p>

<pre><code>[distutils]
index-servers =
    pypi
    local

[pypi]
username:user
password:secret

[local]
username:user
password:secret
repository:http://localhost:8000/pypi/
</code></pre>

<p>Uploading a package: Python &gt;=2.6</p>

<hr><p>To push the package to the local pypi::</p>

<pre><code>$ python setup.py register -r local sdist upload -r local
</code></pre>

<p>Uploading a package: Python &lt;2.6</p>

<hr><p>If you don't have Python 2.6 please run the command below to install the 
backport of the extension for multiple repositories::</p>

<pre><code> $ easy_install -U collective.dist
</code></pre>

<p>Instead of using register and dist command, you can use <code>mregister</code> and 
<code>mupload</code> which are a backport of python 2.6 register and upload commands 
that supports multiple servers.</p>

<p>To push the package to the local pypi::</p>

<pre><code>$ python setup.py mregister -r local sdist mupload -r local
</code></pre>

<h2>Installing a package with pip</h2>

<p>To install your package with pip::</p>

<p>$ pip install -i <a href="http://my.pypiserver.com/simple/">http://my.pypiserver.com/simple/</a> </p>

<p>If you want to fall back to PyPi or another repository in the event the
package is not on your new server, or in particular if you are installing a number
of packages, some on your private server and some on another, you can use
pip in the following manner::</p>

<p>$ pip install -i http://localhost:8000/simple/ \
   --extra-index-url=<a href="http://pypi.python.org/simple/">http://pypi.python.org/simple/</a> \
   -r requirements.txt</p>

<p>(substitute your djangopypi2 server URL for the <code>localhost</code> one in this example)</p>

<p>The downside is that each install of a package hosted on the repository in
<code>--extra-index-url</code> will start with a call to the first repository which
will fail before pip falls back to the alternative.</p>

<h2>Copyright and Credits</h2>

<p>Originally written by Benjamin Liles from <a href="http://github.com/benliles/djangopypi">http://github.com/benliles/djangopypi</a></p>

<p>This software uses Twitter Bootstrap for UI: <a href="http://twitter.github.com/bootstrap/">http://twitter.github.com/bootstrap/</a></p>

<p>Favicon taken from <a href="http://pypi.python.org/favicon.ico">http://pypi.python.org/favicon.ico</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Djangopypi2 maintained by <a href="https://github.com/popen2">popen2</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-35278801-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
